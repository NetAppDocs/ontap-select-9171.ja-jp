---
sidebar: sidebar 
permalink: concept_stor_concepts_chars.html 
keywords: ontap select, storage concepts 
summary: 特定のストレージ コンポーネントを検討する前に、 ONTAP Select環境に適用される一般的なストレージ概念について説明します。 
---
= ONTAP Selectストレージ：一般的な概念と特徴
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
特定のストレージ コンポーネントを検討する前に、 ONTAP Select環境に適用される一般的なストレージ概念について説明します。



== ストレージ構成のフェーズ

ONTAP Selectホスト ストレージの主な構成フェーズは次のとおりです。

* 展開前の前提条件
+
** 各ハイパーバイザー ホストが設定され、 ONTAP Select の導入の準備ができていることを確認します。
** 構成には、物理ドライブ、RAID コントローラとグループ、LUN、および関連するネットワークの準備が含まれます。
** この設定はONTAP Selectの外部で実行されます。


* ハイパーバイザー管理者ユーティリティを使用した構成
+
** ハイパーバイザー管理ユーティリティ (VMware 環境の vSphere など) を使用して、ストレージの特定の側面を構成できます。
** この設定はONTAP Selectの外部で実行されます。


* ONTAP Select Deploy管理ユーティリティを使用した設定
+
** デプロイ管理ユーティリティを使用して、コア論理ストレージ構造を構成できます。
** これは、CLI コマンドを通じて明示的に実行されるか、またはデプロイメントの一部としてユーティリティによって自動的に実行されます。


* 展開後の構成
+
** ONTAP Select の導入が完了したら、 ONTAP CLI または System Manager を使用してクラスタを設定できます。
** この設定は、ONTAP Select Deploy の外部で実行されます。






== 管理型ストレージと非管理型ストレージ

ONTAP Selectによってアクセスされ、直接制御されるストレージは管理対象ストレージです。同じハイパーバイザーホスト上のその他のストレージは管理対象外ストレージです。



=== 均一な物理ストレージ

ONTAP Select管理対象ストレージを構成するすべての物理ドライブは、同種である必要があります。つまり、すべてのハードウェアが以下の特性に関して同一である必要があります。

* タイプ（SAS、NL-SAS、SATA、SSD）
* 速度（rpm）




== ローカルストレージ環境の図

各ハイパーバイザーホストには、ONTAP Selectで使用できるローカルディスクやその他の論理ストレージコンポーネントが含まれています。これらのストレージコンポーネントは、物理ディスクから階層構造に配置されています。

image:ST_01.jpg["ローカルストレージ環境"]



=== ローカルストレージコンポーネントの特性

ONTAP Select環境で使用されるローカルストレージコンポーネントには、いくつかの概念が適用されます。ONTAPONTAP Selectの導入準備をする前に、これらの概念を理解しておく必要があります。これらの概念は、RAIDグループとLUN、ストレージプール、仮想ディスクというカテゴリ別に整理されています。



==== 物理ドライブをRAIDグループとLUNにグループ化する

1台以上の物理ディスクをホストサーバにローカル接続し、 ONTAP Selectで利用することができます。物理ディスクはRAIDグループに割り当てられ、ハイパーバイザのホストOSには1台以上のLUNとして認識されます。各LUNは、ハイパーバイザのホストOSには物理ハードドライブとして認識されます。

ONTAP Selectホストを設定するときは、次の点に注意する必要があります。

* すべての管理対象ストレージは単一のRAIDコントローラを介してアクセス可能でなければならない
* ベンダーによって異なりますが、各RAIDコントローラはRAIDグループごとに最大数のドライブをサポートします。




==== 1つ以上のRAIDグループ

各ONTAP Selectホストには、1 つの RAID コントローラが必要です。ONTAPONTAP Selectには 1 つの RAID グループを作成する必要があります。ただし、状況によっては、複数の RAID グループを作成することも検討できます参照link:reference_plan_best_practices.html["ベストプラクティスの概要"]。



=== ストレージプールの考慮事項

ONTAP Selectを導入する準備の一環として、ストレージ プールに関連して知っておくべき問題がいくつかあります。


NOTE: VMware 環境では、ストレージ プールは VMware データストアと同義です。



==== ストレージプールとLUN

各LUNはハイパーバイザーホスト上のローカルディスクとして認識され、1つのストレージプールの一部となることができます。各ストレージプールは、ハイパーバイザーホストOSが使用できるファイルシステムでフォーマットされます。

ONTAP Selectの導入の一環として、ストレージプールが適切に作成されていることを確認する必要があります。ストレージプールは、ハイパーバイザー管理ツールを使用して作成できます。例えば、VMwareでは、vSphereクライアントを使用してストレージプールを作成できます。作成されたストレージプールは、 ONTAP Select Deploy管理ユーティリティに渡されます。



=== ESXi上の仮想ディスクを管理する

ONTAP Selectを導入する準備の一環として、仮想ディスクに関連して知っておくべき問題がいくつかあります。



==== 仮想ディスクとファイルシステム

ONTAP Select仮想マシンには複数の仮想ディスクドライブが割り当てられます。各仮想ディスクは実際にはストレージプールに含まれるファイルであり、ハイパーバイザーによって管理されます。ONTAPONTAP Selectで使用されるディスクには、主にシステムディスクとデータディスクなど、複数の種類があります。

仮想ディスクに関しては、次の点にも注意する必要があります。

* 仮想ディスクを作成する前に、ストレージ プールが使用可能である必要があります。
* 仮想マシンを作成する前に仮想ディスクを作成することはできません。
* すべての仮想ディスクを作成するには、 ONTAP Select Deploy 管理ユーティリティを使用する必要があります (つまり、管理者は Deploy ユーティリティ以外で仮想ディスクを作成してはなりません)。




==== 仮想ディスクの構成

仮想ディスクはONTAP Selectによって管理されます。Deploy管理ユーティリティを使用してクラスタを作成すると、仮想ディスクが自動的に作成されます。



== ESXi上の外部ストレージ環境の図

ONTAP Select vNASソリューションにより、 ONTAP Selectはハイパーバイザーホストの外部ストレージ上にあるデータストアを使用できるようになります。データストアには、VMware vSANを使用してネットワーク経由でアクセスすることも、外部ストレージアレイから直接アクセスすることもできます。

ONTAP Select は、ハイパーバイザー ホストの外部にある次のタイプの VMware ESXi ネットワーク データストアを使用するように設定できます。

* vSAN（仮想SAN）
* VMFS
* NFS




=== vSANデータストア

各ESXiホストは、1つ以上のローカルVMFSデータストアを持つことができます。通常、これらのデータストアはローカルホストからのみアクセスできます。しかし、VMware vSANでは、ESXiクラスタ内の各ホストが、クラスタ内のすべてのデータストアをローカルデータストアのように共有できます。次の図は、vSANがESXiクラスタ内のホスト間で共有されるデータストアのプールを作成する様子を示しています。

image:ST_02.jpg["ESXiクラスタ"]



=== 外部ストレージアレイ上のVMFSデータストア

外部ストレージアレイ上にVMFSデータストアを作成できます。ストレージには、複数のネットワークプロトコルのいずれかを使用してアクセスします。次の図は、iSCSIプロトコルを使用してアクセスされた外部ストレージアレイ上のVMFSデータストアを示しています。


NOTE: ONTAP Select は、iSCSI、ファイバ チャネル、ファイバ チャネル over Ethernet など、VMware ストレージ/SAN 互換性ドキュメントに記載されているすべての外部ストレージ アレイをサポートします。

image:ST_03.jpg["ESXiハイパーバイザーホスト"]



=== 外部ストレージアレイ上のNFSデータストア

外部ストレージアレイ上にNFSデータストアを作成できます。ストレージにはNFSネットワークプロトコルを使用してアクセスします。次の図は、NFSサーバーアプライアンスを介してアクセスされる外部ストレージ上のNFSデータストアを示しています。

image:ST_04.jpg["ESXiハイパーバイザーホスト"]
